<?xml version='1.0' encoding="utf-8"?>
  <robot name='my_robot'>
    <link name='chassis'>
      
      <inertial>
      <origin xyz="-0.151427 0 0.175" rpy="0 -0 0"/>
        <mass value="1.14395"/>
        <inertia
          ixx="0.126164"
          ixy="0"
          ixz="0"
          iyy="0.416519"
          iyz="0"
          izz="0.481014"
        />
     
      </inertial>
      <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        <geometry>
          <box>
            <size>2.01142 1 0.568726</size>
          </box>
        </geometry>
        <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
      </visual>
      <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        
        <geometry>
          <box>
            <size>2.01142 1 0.568726</size>
          </box>
        </geometry>
      </collision>
    </link>
    <link name='caster'>
    <inertial>
      <origin xyz="-0.957138 -0 -0.125" rpy="0 -0 0"/>
        <mass value="1"/>
        <inertia
          ixx="0.1"
          ixy="0"
          ixz="0"
          iyy="0.1"
          iyz="0"
          izz="0.1"
        />
     
      </inertial>
      <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        <geometry>
          <sphere>
            <radius>0.2</radius>
          </sphere>
        </geometry>
        <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
      </visual>
      <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        
        <geometry>
          <sphere>
            <radius>0.2</radius>
          </sphere>
        </geometry>
      </collision>
    </link>
    <link name='left_wheel'>
    <inertial>
      <origin xyz="0.554283 0.625029 -0.025" rpy="-1.5707 -0 -0"/>
        <mass value="2"/>
        <inertia
          ixx="0.145833"
          ixy="0"
          ixz="0"
          iyy="0.145833"
          iyz="0"
          izz="0.125"
        />
     
      </inertial>
      <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        <geometry>
          <sphere>
            <radius>0.3</radius>
          </sphere>
        </geometry>
        <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
      </visual>
      <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        
        <geometry>
          <sphere>
            <radius>0.3</radius>
          </sphere>
        </geometry>
      </collision>
    </link>
    <link name='camera_link'>
    <inertial>
      <origin xyz="0.703463 -5e-06 0.522662" rpy="-1e-06 -5e-06 0"/>
        <mass value="0.009"/>
        <inertia
          ixx="7.5e-05"
          ixy="0"
          ixz="0"
          iyy="7.5e-05"
          iyz="0"
          izz="0.000135"
        />
     
      </inertial>
      <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        <geometry>
          <box>
            <size>0.3 0.3 0.1</size>
          </box>
        </geometry>
        <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
      </visual>
      <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        
        <geometry>
          <box>
            <size>0.3 0.3 0.1</size>
          </box>
        </geometry>
      </collision>
 </link>
 <gazebo reference="camera_link">
      <sensor type="camera" name="camera_sensor">
        <parent link="camera_link"/>
	<update_rate>30.0</update_rate>
	<visualize>true</visualize>
        <camera>
          <horizontal_fov>1.3962634</horizontal_fov>
          <image>
            <format>R8G8B8</format>
            <width>640</width>
            <height>480</height>
          </image>
          <clip>
            <near>1</near>
            <far>50</far>
          </clip>
        </camera>

        <plugin name="camera_controller" filename="libgazebo_ros_camera.so">
          <cameraName>front_camera</cameraName>
          <alwaysOn>true</alwaysOn>
          <updateRate>0.0</updateRate>
          <imageTopicName>image_raw</imageTopicName>
          <cameraInfoTopicName>camera_info</cameraInfoTopicName>
          <frameName>camera_link</frameName>
        </plugin>
      </sensor>
  </gazebo>
    <link name='right_wheel'>
    <inertial>
      <origin xyz="0.554282 -0.625029 -0.025" rpy=" -1.5707 -0 -0"/>
        <mass value="2"/>
        <inertia
          ixx="0.145833"
          ixy="0"
          ixz="0"
          iyy="0.145833"
          iyz="0"
          izz="0.125"
        />
     
      </inertial>
      <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        <geometry>
          <sphere>
            <radius>0.3</radius>
          </sphere>
        </geometry>
        <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
      </visual>
      <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
        
        <geometry>
          <sphere>
            <radius>0.3</radius>
          </sphere>
        </geometry>
      </collision>
    </link>
    
    
    <joint name='caster_wheel' type='ball'>
      <parent>chassis</parent>
      <child>caster</child>
      <origin xyz="0 0 0" rpy=" 0 -0 0"/>
    </joint>
    <joint name='camera_joint' type='fixed'>
      <parent>chassis</parent>
      <child>camera_link</child>
      <origin xyz="0 0 0" rpy=" 0 -0 0"/>
    </joint>
    <gazebo reference="camera_joint"><preserveFixedJoint>true</preserveFixedJoint></gazebo>
    <joint name='left_wheel_joint' type='revolute'>
      <parent>chassis</parent>
      <child>left_wheel</child>
      <origin xyz="0 0 0" rpy=" 0 -0 0"/>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-1.79769e+308</lower>
          <upper>1.79769e+308</upper>
          <effort>-1</effort>
          <velocity>-1</velocity>
        </limit>
        
      </axis>
    </joint>
    <joint name='right_wheel_joint' type='revolute'>
      <parent>chassis</parent>
      <child>right_wheel</child>
      <origin xyz="0 0 0" rpy=" 0 -0 0"/>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-1.79769e+308</lower>
          <upper>1.79769e+308</upper>
          <effort>-1</effort>
          <velocity>-1</velocity>
        </limit>
        
      </axis>
    </joint>
    <gazebo>
    <plugin name='diff_drive' filename='libgazebo_ros_diff_drive.so'>
      <commandTopic>cmd_vel</commandTopic>
      <publishWheelTF>0</publishWheelTF>
      <publishWheelJointState>0</publishWheelJointState>
      <updateRate>30</updateRate>
      <leftJoint>left_wheel_joint</leftJoint>
      <rightJoint>right_wheel_joint</rightJoint>
      <wheelSeparation>1.25</wheelSeparation>
      <wheelDiameter>0.6</wheelDiameter>
      <wheelTorque>20</wheelTorque>
      <wheelAcceleration>1.0</wheelAcceleration>
      <odometrySource>world</odometrySource>
      <publishOdomTF>1</publishOdomTF>
      <odometryFrame>odom</odometryFrame>
      <odometryTopic>odom</odometryTopic>
      <robotBaseFrame>base</robotBaseFrame>
    </plugin>
    </gazebo>
</robot>
